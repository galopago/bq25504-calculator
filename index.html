<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BQ25504 Calculator - Resistor Configuration</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>BQ25504 Calculator</h1>
            <p>Resistor configuration for BQ25504 chip</p>
        </header>
        
        <!-- Schematic SVG -->
        <section class="schematic-section">
            <h2>BQ25504 Schematic</h2>
            <div class="schematic-container">
                <img src="bq25504.svg" alt="BQ25504 Schematic Diagram" class="schematic-svg">
            </div>
        </section>
        
        <main>
            <!-- Battery Type Selection -->
            <div class="battery-selection-section">
                <h2>Battery Presets</h2>
                <p class="section-info">Select battery type to auto-fill voltages or use Custom.</p>
                
                <div class="battery-selector">
                    <label for="battery-type">Type:</label>
                    <select id="battery-type">
                        <option value="custom">Custom</option>
                        <option value="liion-single">Li-ion</option>
                        <option value="lifepo-single">LiFePO</option>
                        <option value="nimh-2cell">NiMH 2x</option>
                    </select>
                </div>
                
                <div class="battery-info" id="battery-info">
                    <p>Select type for presets.</p>
                </div>
            </div>
            
            <div class="calculator-grid">
                <!-- VBAT_OV Section -->
                <div class="calc-section">
                    <h2>Battery Maximum Voltage (VBAT_OV)</h2>
                    <p class="section-info">ROV1 + ROV2 = 10 M立 | Range: 2.5V - 5.25V</p>
                    
                    <div class="input-group">
                        <label for="vbat_ov">Desired voltage (V):</label>
                        <input type="number" id="vbat_ov" step="0.1" min="2.5" max="5.25" placeholder="3.7">
                    </div>
                    
                    <div class="result-group">
                        <div class="result-item">
                            <label>ROV1:</label>
                            <span id="rov1_result">-</span>
                        </div>
                        <div class="result-item">
                            <label>ROV2:</label>
                            <span id="rov2_result">-</span>
                        </div>
                    </div>
                </div>

                <!-- VBAT_UV Section -->
                <div class="calc-section">
                    <h2>Battery Minimum Voltage (VBAT_UV)</h2>
                    <p class="section-info">RUV1 + RUV2 = 10 M立 | Minimum: 2.5V</p>
                    
                    <div class="input-group">
                        <label for="vbat_uv">Desired voltage (V):</label>
                        <input type="number" id="vbat_uv" step="0.1" min="2.5" max="5.25" placeholder="2.5">
                    </div>
                    
                    <div class="result-group">
                        <div class="result-item">
                            <label>RUV1:</label>
                            <span id="ruv1_result">-</span>
                        </div>
                        <div class="result-item">
                            <label>RUV2:</label>
                            <span id="ruv2_result">-</span>
                        </div>
                    </div>
                </div>

                <!-- Battery OK Threshold Section -->
                <div class="calc-section">
                    <h2>Battery OK Threshold</h2>
                    <p class="section-info">ROK1 + ROK2 + ROK3 = 10 M立</p>
                    
                    <div class="input-group">
                        <label for="vbat_ok_prog">VBAT_OK_PROG (V):</label>
                        <input type="number" id="vbat_ok_prog" step="0.1" min="2.5" max="5.25" placeholder="3.0">
                    </div>
                    
                    <div class="input-group">
                        <label for="vbat_ok_hyst">VBAT_OK_HYST (V):</label>
                        <input type="number" id="vbat_ok_hyst" step="0.1" min="2.5" max="5.25" placeholder="3.2">
                    </div>
                    
                    <div class="result-group">
                        <div class="result-item">
                            <label>ROK1:</label>
                            <span id="rok1_result">-</span>
                        </div>
                        <div class="result-item">
                            <label>ROK2:</label>
                            <span id="rok2_result">-</span>
                        </div>
                        <div class="result-item">
                            <label>ROK3:</label>
                            <span id="rok3_result">-</span>
                        </div>
                    </div>
                </div>

                <!-- MPPT Sampling Network Section -->
                <div class="calc-section">
                    <h2>MPPT Sampling Network</h2>
                    <p class="section-info">ROC1 + ROC2 = 20 M立</p>
                    
                    <div class="input-group">
                        <label for="mpp_threshold">MPP threshold (% of VIN_DC):</label>
                        <input type="number" id="mpp_threshold" step="1" min="50" max="100" placeholder="80">
                    </div>
                    
                    <div class="result-group">
                        <div class="result-item">
                            <label>ROC1:</label>
                            <span id="roc1_result">-</span>
                        </div>
                        <div class="result-item">
                            <label>ROC2:</label>
                            <span id="roc2_result">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Enter the desired values to calculate the required resistors</p>
        </footer>
    </div>
    
    <script src="script.js"></script>
</body>
</html>